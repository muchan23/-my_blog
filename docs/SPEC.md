# ブログ仕様書

## 概要

Hono v4 + SSG で構築する個人技術ブログ。
Lil'Log のようなミニマルなデザインを目指す。

## 参考サイト

- [Lil'Log](https://lilianweng.github.io/) - ミニマルなデザイン、読了時間表示
- [Simon Willison's Weblog](https://simonwillison.net/) - タグシステム、年別アーカイブ

---

## ページ構成

| パス | ページ | 説明 |
|------|--------|------|
| `/` | トップページ | 最新記事一覧 |
| `/posts/:slug` | 記事ページ | 個別記事の表示 |
| `/archive` | アーカイブ | 年別の記事一覧 |
| `/tags` | タグ一覧 | 全タグと記事数 |
| `/tags/:tag` | タグ別一覧 | 特定タグの記事一覧 |
| `/about` | About | 自己紹介ページ |
| `/feed.xml` | RSS フィード | 記事の RSS 配信 |

---

## 各ページの詳細

### トップページ（`/`）

**レイアウト（Lil'Log 風）**

```
┌─────────────────────────────────────────────────┐
│                                                 │
│  Lil'Log                 Posts Archive Tags About
│                                                 │
├─────────────────────────────────────────────────┤
│                                                 │
│  記事タイトル                                    │
│  ─────────────────────────────────────────────  │
│  記事の概要が2〜3行で表示される。記事の内容を      │
│  簡潔に説明するテキスト...                       │
│                                                 │
│  📅 January 19, 2025 · ⏱ 5 min read            │
│                                                 │
│                                                 │
│  記事タイトル                                    │
│  ─────────────────────────────────────────────  │
│  記事の概要が2〜3行で表示される...                │
│                                                 │
│  📅 January 15, 2025 · ⏱ 3 min read            │
│                                                 │
│                                                 │
│                              » (次ページ)       │
│                                                 │
├─────────────────────────────────────────────────┤
│  © 2025 and 🐱 Lilian Weng · Powered by Hugo   │
└─────────────────────────────────────────────────┘
```

**表示内容**
- ヘッダー
  - サイトタイトル（左）
  - ナビゲーション（右）: Posts, Archive, Tags, About
- 記事一覧（10件/ページ）
  - 記事タイトル（リンク）
  - 概要（description、2〜3行）
  - 投稿日
  - 読了時間
- ページネーション
  - 「»」で次ページへ
  - 「«」で前ページへ
- フッター
  - 著作権表記
  - サイト情報

### 記事ページ（`/posts/:slug`）

**表示内容**
- 記事タイトル
- 投稿日
- 読了時間
- タグ一覧
- 目次（見出しから自動生成）
- 本文（Markdown から変換）
- 前後の記事へのリンク

**Markdown 対応機能**
- 見出し（h1-h6）
- リスト（ul, ol）
- コードブロック（シンタックスハイライト付き）
- インラインコード
- リンク
- 画像
- 引用
- テーブル

### アーカイブ（`/archive`）

**表示内容**
- 年ごとにグループ化された記事一覧
- 各記事は「日付 - タイトル」形式

### タグ一覧（`/tags`）

**表示内容**
- 全タグのリスト
- 各タグの記事数

### タグ別一覧（`/tags/:tag`）

**表示内容**
- タグ名
- そのタグを持つ記事一覧

### About（`/about`）

**表示内容**
- 自己紹介文（Markdown で記述可能）
- SNS リンク（任意）

### RSS フィード（`/feed.xml`）

**内容**
- 最新記事（20件程度）
- タイトル、URL、公開日、概要

---

## 機能仕様

### ダークモード

- 3モード切替（Auto / Light / Dark）
- Auto: システム設定に従う
- 選択はローカルストレージに保存

### レスポンシブデザイン

- モバイル、タブレット、デスクトップ対応
- ブレークポイント: 768px, 1024px

### 読了時間の計算

- 日本語: 400文字/分
- 英語: 200単語/分
- 小数点以下切り上げ、最低1分

### シンタックスハイライト

- 主要言語対応（JavaScript, TypeScript, Python, Go, Rust, etc.）
- ライトモード/ダークモード両対応

---

## コンテンツ管理

### 記事の形式

```markdown
---
title: "記事タイトル"
date: "2025-01-19"
tags: ["hono", "typescript"]
description: "記事の概要"
---

本文をここに書く
```

### ファイル配置

```
content/
└── posts/
    ├── my-first-post.md
    ├── hono-ssg-tutorial.md
    └── ...
```

- ファイル名がそのまま slug になる
- 例: `my-first-post.md` → `/posts/my-first-post`

---

## デザイン方針

### 全体

- ミニマル、余白を活かしたデザイン
- 読みやすさ重視（適切なフォントサイズ、行間）
- 最大幅 720px 程度（本文エリア）

### カラー

**ライトモード**
- 背景: #ffffff
- テキスト: #1a1a1a
- リンク: #0066cc
- コードブロック背景: #f5f5f5

**ダークモード**
- 背景: #1a1a1a
- テキスト: #e5e5e5
- リンク: #66b3ff
- コードブロック背景: #2d2d2d

### フォント

- 本文: システムフォント（sans-serif）
- コード: monospace

---

## ホスティング

### Cloudflare Pages

**選定理由**
- Hono との相性が良い（Cloudflare 製）
- 無料枠が十分（無制限の静的リクエスト）
- 高速な CDN
- GitHub 連携で自動デプロイ可能

**デプロイ方法**

1. GitHub リポジトリと連携（推奨）
   - push で自動ビルド & デプロイ

2. 手動デプロイ
   ```bash
   npx wrangler pages deploy ./dist
   ```

**ビルド設定**
- ビルドコマンド: `npm run build`
- 出力ディレクトリ: `dist`

---

## 将来の拡張（Phase 6 以降で検討）

- 検索機能
- 関連記事の表示
- OGP 画像の自動生成
- ビュー数カウント（Cloudflare Analytics）
